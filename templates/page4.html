{% extends 'base.html' %}

{% block header %}Caractéristiques Musicales{% endblock %}



{% block description %}Sélectionnez les genres musicaux pour créer un radar Chart{% endblock %}

{% block content %}
    <table style="width:100%; table-layout: fixed;">
        <tr>
            <!-- Colonne pour les boutons alignée à gauche avec un peu de padding -->
            <td align="left" style="vertical-align: top; width: 250px; padding: 10px 20px 10px 30px;">
                <form method="POST">
                    <h3>Choisissez les genres musicaux :</h3>
                    <div>
                        {% for genre in genres %}
                            <label><input type="checkbox" name="genres" value="{{ genre }}">{{ genre }}</label><br>
                        {% endfor %}
                    </div>
                    <button type="submit" style="margin-top: 10px;">visualiser</button>
                </form>
            </td>
            
            <!-- Colonne pour le radar chart -->
            <td style="vertical-align: top;">
                {% if radar_chart %}
                    <div>
                        {{ radar_chart|safe }}
                    </div>
                {% endif %}
            </td>
        </tr>
    </table>

    <!-- Affichage des bar charts organisés en 2 lignes de 3 colonnes -->
    <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px;">
        {% for chart in bar_charts %}
            <div style="flex-basis: 30%; margin-bottom: 20px;">
                {{ chart|safe }}
            </div>
        {% endfor %}
    </div>
{% endblock %}

{% block footer %}
    <div class="data-source">
        <p>Données fournies par <a href="https://developer.spotify.com/documentation/web-api/" target="_blank">Spotify API</a></p>
    </div>
{% endblock %}
