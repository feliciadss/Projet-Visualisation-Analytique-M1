{% extends 'base.html' %}

{% block title %}Visualisation des Genres et Sous-genres{% endblock %}

{% block header %}Exploration des Genres Musicaux{% endblock %}

{% block description %}
    <div class="description-box">
        Ce site web vous fournit des informations clés sur la popularité des genres musicaux en Europe, l'évolution des tendances par pays, ainsi que les collaborations entre artistes de différents genres.
        En analysant les données des dernières années, vous pourrez suivre la croissance ou le déclin des genres, évaluer la diversité et l'influence des genres à travers les featurings, et ainsi identifier les meilleures opportunités d'investissement dans de nouveaux artistes et collaborations.
    </div>
{% endblock %}

{% block content %}
    <!-- Section avec boutons pour explorer plus de pages -->
    <div class="button-container">
        <a href="{{ url_for('page1') }}" class="btn btn-blue">Popularité des Genres Musicaux</a>
        <a href="{{ url_for('page2') }}" class="btn btn-green">Évolution d'un Genre</a>
        <a href="{{ url_for('page3') }}" class="btn btn-purple">Collaborations et Diversité</a>
        <a href="{{ url_for('page4') }}" class="btn btn-orange">Analyses Avancées</a>
    </div>

    <div style="display: flex; margin-top: 40px;">
        <!-- Section de sélection de genre alignée à gauche -->
        <div class="genre-selection">
            <form method="POST">
                <h3>Choisissez un genre musical :</h3>
                <div>
                    {% for genre in genres %}
                        <label><input type="radio" name="genre" value="{{ genre }}">{{ genre }}</label><br>
                    {% endfor %}
                </div>
                <button type="submit" style="margin-top: 10px;">Visualiser</button>
            </form>
        </div>

        <!-- Colonne pour afficher le diagramme en bulles au centre droit -->
        <div class="visualisation-space">
            {% if bubble_chart %}
                <div>{{ bubble_chart|safe }}</div>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block footer %}
    <div class="data-source">
        <p>Données fournies par <a href="https://developer.spotify.com/documentation/web-api/" target="_blank">Spotify API</a></p>
    </div>
{% endblock %}
